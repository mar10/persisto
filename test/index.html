<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Persisto Demo</title>
  <script src="../src/persisto.js"> </script>
  <script>
	var store = new PersistentObject("test", {
		// remote: "service/settings.json",
		store: sessionStorage,
		defaults: {
			title: "foo",
			details: "bar\nbaz",
			isFavorite: true,
			status: "active",
			attributes: ["opt3"],
			color: "blue",
			tags: ["lame", "hot"],
		}
	});
	document.addEventListener("DOMContentLoaded", function(event) {
		document.querySelector("#form1").submit(function(e){
			store.readFromForm("#form1");
			e.preventDefault();
		});
		store.writeToForm("#form1");
	});
  </script>
</head>
<body>
	<form id="form1" action="">
		<label>Title:<input name="title" type="text" value="" /></label><br>
		<label>Details: <textarea name="details" rows="3"></textarea></label><br>
		<label>Favorite:
			<input name="isFavorite" type="checkbox" />
		</label><br>
		<label>Status:
			<fieldset>
				<label> <input name="status" type="radio" value="active" /> active </label><br>
				<label> <input name="status" type="radio" value="done" checked="checked" /> done </label><br>
				<label> <input name="status" type="radio" value="waiting" /> waiting </label>
			</fieldset>
		</label><br>
		<label>Attributes:
			<fieldset>
				<label> <input name="attributes" type="checkbox" value="opt1" checked="" /> opt1 </label><br>
				<label> <input name="attributes" type="checkbox" value="opt2" checked="" /> opt2 </label><br>
				<label> <input name="attributes" type="checkbox" value="opt3"> opt3 </input></label>
			</fieldset>
		</label><br>
		<label>Color:
			<select name="color">
				<option value="red">Red</option>
				<option value="green" selected>Green</option>
				<option value="blue">Blue</option>
			</select>
		</label><br>
		<label>Tags:
			<select name="tags" multiple="multiple">
				<option value="cool">Cool</option>
				<option value="hot" selected>Hot</option>
				<option value="lame">Lame</option>
			</select>
		</label><br>


		<button type="submit">Submit</button>
		<button type="reset">Reset</button>
	</form>
</body>
</html>
